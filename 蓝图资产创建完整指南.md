# è“å›¾èµ„äº§åˆ›å»ºå®Œæ•´æŒ‡å—

## ğŸ“‹ **æ¦‚è¿°**

æœ¬æŒ‡å—å°†è¯¦ç»†è¯´æ˜å¦‚ä½•åœ¨ Unreal Engine ä¸­åˆ›å»ºæˆ˜æ–—ç³»ç»Ÿæ‰€éœ€çš„æ‰€æœ‰è“å›¾èµ„äº§ã€‚

**éœ€è¦åˆ›å»ºçš„èµ„äº§ï¼š**
1. âœ… GE_Damage_Baseï¼ˆä¼¤å®³ GameplayEffectï¼‰
2. âœ… GA_Attack_Meleeï¼ˆè¿‘æˆ˜æ”»å‡»èƒ½åŠ›ï¼‰
3. âœ… GA_Attack_Rangedï¼ˆè¿œç¨‹æ”»å‡»èƒ½åŠ›ï¼‰
4. âœ… BP_Projectile_Arrowï¼ˆå¼“ç®­æŠ•å°„ç‰©ï¼‰
5. âœ… BP_Projectile_Boltï¼ˆå¼©ç®­æŠ•å°„ç‰©ï¼‰
6. âœ… DT_UnitDataï¼ˆå•ä½æ•°æ®è¡¨ï¼‰

**å‰ç½®è¦æ±‚ï¼š**
- âœ… é¡¹ç›®å·²ç¼–è¯‘æˆåŠŸ
- âœ… C++ ç±»å·²ç”Ÿæˆï¼ˆUSG_GameplayAbility_MeleeAttack, USG_GameplayAbility_RangedAttack, ASG_Projectileï¼‰
- âœ… æœ‰æ”»å‡»åŠ¨ç”»èµ„äº§ï¼ˆAnim Montageï¼‰
- âœ… æœ‰æŠ•å°„ç‰©æ¨¡å‹ï¼ˆStatic Meshï¼‰

---

## ğŸ¯ **ç¬¬ä¸€æ­¥ï¼šé…ç½® GameplayTags**

### **é‡è¦æ€§ï¼š** ğŸ”´ å¿…é¡»å®Œæˆ
åœ¨åˆ›å»ºä»»ä½•è“å›¾ä¹‹å‰ï¼Œå¿…é¡»å…ˆé…ç½® GameplayTagsï¼

### **æ“ä½œæ­¥éª¤ï¼š**

1. **æ‰“å¼€é¡¹ç›®è®¾ç½®**
   ```
   ç¼–è¾‘å™¨èœå• â†’ Project Settings
   ```

2. **æ‰¾åˆ° GameplayTags è®¾ç½®**
   ```
   Project Settings â†’ GameplayTags
   ```

3. **æ·»åŠ ä»¥ä¸‹ GameplayTagsï¼š**

#### **ä¼¤å®³ç³»ç»Ÿæ ‡ç­¾ï¼š**
```
Data.Damage
â”œâ”€ è¯´æ˜ï¼šä¼¤å®³å€ç‡æ ‡ç­¾ï¼Œç”¨äº SetByCaller
â””â”€ ç”¨é€”ï¼šåœ¨ GameplayEffect ä¸­ä¼ é€’ä¼¤å®³å€ç‡å‚æ•°
```

#### **èƒ½åŠ›ç³»ç»Ÿæ ‡ç­¾ï¼š**
```
Ability.Attack
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»èƒ½åŠ›æ ‡ç­¾
â””â”€ ç”¨é€”ï¼šæ ‡è¯†æ”»å‡»ç±»èƒ½åŠ›

Ability.Attack.Melee
â”œâ”€ è¯´æ˜ï¼šè¿‘æˆ˜æ”»å‡»æ ‡ç­¾
â””â”€ ç”¨é€”ï¼šæ ‡è¯†è¿‘æˆ˜æ”»å‡»èƒ½åŠ›

Ability.Attack.Ranged
â”œâ”€ è¯´æ˜ï¼šè¿œç¨‹æ”»å‡»æ ‡ç­¾
â””â”€ ç”¨é€”ï¼šæ ‡è¯†è¿œç¨‹æ”»å‡»èƒ½åŠ›
```

#### **å•ä½ç±»å‹æ ‡ç­¾ï¼š**
```
Unit.Type
â”œâ”€ Unit.Type.Infantry    ï¼ˆæ­¥å…µï¼‰
â”œâ”€ Unit.Type.Cavalry     ï¼ˆéª‘å…µï¼‰
â”œâ”€ Unit.Type.Archer      ï¼ˆå¼“å…µï¼‰
â””â”€ Unit.Type.Crossbow    ï¼ˆå¼©å…µï¼‰
```

#### **é˜µè¥æ ‡ç­¾ï¼š**
```
Unit.Faction
â”œâ”€ Unit.Faction.Player   ï¼ˆç©å®¶é˜µè¥ï¼‰
â””â”€ Unit.Faction.Enemy    ï¼ˆæ•Œæ–¹é˜µè¥ï¼‰
```

### **æ·»åŠ æ–¹æ³•ï¼š**
```
1. åœ¨ GameplayTags è®¾ç½®ä¸­ç‚¹å‡» "Add New Gameplay Tag"
2. è¾“å…¥æ ‡ç­¾åç§°ï¼ˆä¾‹å¦‚ï¼šData.Damageï¼‰
3. è¾“å…¥æè¿°ä¿¡æ¯
4. ç‚¹å‡» "Add Tag"
5. é‡å¤ä»¥ä¸Šæ­¥éª¤æ·»åŠ æ‰€æœ‰æ ‡ç­¾
```

---

## ğŸ“¦ **ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„**

### **æ¨èçš„æ–‡ä»¶å¤¹ç»“æ„ï¼š**
```
Content/
â””â”€ Blueprints/
   â”œâ”€ GAS/                          # GAS ç›¸å…³èµ„äº§
   â”‚  â”œâ”€ Effects/                   # GameplayEffects
   â”‚  â”‚  â””â”€ GE_Damage_Base
   â”‚  â””â”€ Abilities/                 # GameplayAbilities
   â”‚     â”œâ”€ GA_Attack_Melee
   â”‚     â””â”€ GA_Attack_Ranged
   â”œâ”€ Actors/                       # æ¸¸æˆ Actors
   â”‚  â””â”€ Projectiles/               # æŠ•å°„ç‰©
   â”‚     â”œâ”€ BP_Projectile_Arrow
   â”‚     â””â”€ BP_Projectile_Bolt
   â””â”€ Data/                         # æ•°æ®è¡¨
      â””â”€ DT_UnitData
```

### **åˆ›å»ºæ­¥éª¤ï¼š**
```
1. æ‰“å¼€ Content Browser
2. å³é”® â†’ æ–°å»ºæ–‡ä»¶å¤¹
3. æŒ‰ç…§ä¸Šè¿°ç»“æ„åˆ›å»ºæ–‡ä»¶å¤¹
```

---

## ğŸ¨ **ç¬¬ä¸‰æ­¥ï¼šåˆ›å»º GE_Damage_Baseï¼ˆä¼¤å®³ GameplayEffectï¼‰**

### **è·¯å¾„ï¼š** `/Game/Blueprints/GAS/Effects/GE_Damage_Base`

### **åˆ›å»ºæ­¥éª¤ï¼š**

#### **1. åˆ›å»ºè“å›¾ç±»**
```
Content Browser â†’ å³é”® â†’ Blueprint Class
æœç´¢ï¼šGameplayEffect
é€‰æ‹©ï¼šGameplayEffect
å‘½åï¼šGE_Damage_Base
ä¿å­˜è·¯å¾„ï¼š/Game/Blueprints/GAS/Effects/
```

#### **2. é…ç½® Duration Policyï¼ˆæŒç»­ç­–ç•¥ï¼‰**
```
æ‰“å¼€è“å›¾ â†’ Details é¢æ¿ â†’ Duration Policy
è®¾ç½®ï¼šInstantï¼ˆç¬æ—¶æ•ˆæœï¼‰
è¯´æ˜ï¼šä¼¤å®³æ˜¯ç¬æ—¶åº”ç”¨ï¼Œä¸éœ€è¦æŒç»­æ—¶é—´
```

#### **3. æ¸…ç©º Modifiersï¼ˆä¿®é¥°ç¬¦ï¼‰**
```
Details é¢æ¿ â†’ Modifiers æ•°ç»„
ç‚¹å‡» "æ¸…ç©º" æŒ‰é’®ï¼ˆå¦‚æœæœ‰å†…å®¹ï¼‰
è¯´æ˜ï¼šæˆ‘ä»¬ä½¿ç”¨ Execution Calculationï¼Œä¸éœ€è¦ Modifier
```

#### **4. æ·»åŠ  Execution Calculation**
```
Details é¢æ¿ â†’ Executions æ•°ç»„
ç‚¹å‡» "+" æ·»åŠ æ–°å…ƒç´ 
å±•å¼€æ–°å…ƒç´  â†’ Calculation Class
é€‰æ‹©ï¼šSG_DamageExecutionCalc
è¯´æ˜ï¼šè¿™æ˜¯æˆ‘ä»¬è‡ªå®šä¹‰çš„ä¼¤å®³è®¡ç®—ç±»
```

#### **5. é…ç½® SetByCaller Magnitudes**
```
Details é¢æ¿ â†’ SetByCaller Magnitudes æ•°ç»„
ç‚¹å‡» "+" æ·»åŠ æ–°å…ƒç´ 
å±•å¼€æ–°å…ƒç´ ï¼š
â”œâ”€ Data Tag: Data.Damage
â”œâ”€ Magnitude Calculation Type: SetByCaller
â””â”€ SetByCaller Magnitude:
   â”œâ”€ SetByCallerFloat: Curve Table (None)
   â””â”€ Coefficient: 1.0
   
è¯´æ˜ï¼š
- Data.Damage æ ‡ç­¾ç”¨äºæ¥æ”¶ä¼¤å®³å€ç‡å‚æ•°
- æŠ€èƒ½é‡Šæ”¾æ—¶é€šè¿‡ SetByCallerMagnitude() è®¾ç½®å€¼
```

#### **6. ä¿å­˜è“å›¾**
```
Ctrl + S ä¿å­˜
ç¡®è®¤è·¯å¾„ï¼š/Game/Blueprints/GAS/Effects/GE_Damage_Base
```

### **éªŒè¯æ¸…å•ï¼š**
- âœ… Duration Policy = Instant
- âœ… Modifiers æ•°ç»„ä¸ºç©º
- âœ… Executions åŒ…å« SG_DamageExecutionCalc
- âœ… SetByCaller Magnitudes åŒ…å« Data.Damage æ ‡ç­¾

---

## âš”ï¸ **ç¬¬å››æ­¥ï¼šåˆ›å»º GA_Attack_Meleeï¼ˆè¿‘æˆ˜æ”»å‡»èƒ½åŠ›ï¼‰**

### **è·¯å¾„ï¼š** `/Game/Blueprints/GAS/Abilities/GA_Attack_Melee`

### **åˆ›å»ºæ­¥éª¤ï¼š**

#### **1. åˆ›å»ºè“å›¾ç±»**
```
Content Browser â†’ å³é”® â†’ Blueprint Class
æœç´¢ï¼šSG_GameplayAbility_MeleeAttack
é€‰æ‹©ï¼šSG_GameplayAbility_MeleeAttackï¼ˆC++ ç±»ï¼‰
å‘½åï¼šGA_Attack_Melee
ä¿å­˜è·¯å¾„ï¼š/Game/Blueprints/GAS/Abilities/
```

#### **2. é…ç½® Attack Configï¼ˆæ”»å‡»é…ç½®ï¼‰**
```
æ‰“å¼€è“å›¾ â†’ Class Defaults â†’ Attack Config

Attack Type: Meleeï¼ˆå·²è‡ªåŠ¨è®¾ç½®ï¼Œä¸å¯æ›´æ”¹ï¼‰
Damage Multiplier: 1.0
â”œâ”€ è¯´æ˜ï¼šä¼¤å®³å€ç‡ï¼ˆ1.0 = 100% ä¼¤å®³ï¼‰
â””â”€ å»ºè®®å€¼ï¼šæ­¥å…µ 1.0ï¼Œéª‘å…µ 1.2

Attack Range: 150.0
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»èŒƒå›´ï¼ˆå˜ç±³ï¼‰
â””â”€ å»ºè®®å€¼ï¼šè¿‘æˆ˜ 150-200
```

#### **3. é…ç½® Melee Configï¼ˆè¿‘æˆ˜ä¸“å±é…ç½®ï¼‰**
```
Class Defaults â†’ Melee Config

Max Targets: 1
â”œâ”€ è¯´æ˜ï¼šä¸€æ¬¡æ”»å‡»æœ€å¤šå‘½ä¸­ç›®æ ‡æ•°
â””â”€ å»ºè®®å€¼ï¼šå•ä½“æ”»å‡» 1ï¼ŒèŒƒå›´æ”»å‡» 3-5

Attack Angle: 180.0
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»æ‰‡å½¢è§’åº¦ï¼ˆåº¦ï¼‰
â””â”€ å»ºè®®å€¼ï¼šç›´åˆº 90ï¼Œæ¨ªæ‰« 180ï¼Œæ—‹è½¬ 360

Use Cone Detection: true
â”œâ”€ è¯´æ˜ï¼šæ˜¯å¦å¯ç”¨æ‰‡å½¢æ£€æµ‹
â””â”€ å»ºè®®å€¼ï¼šé€šå¸¸ä¸º true
```

#### **4. é…ç½® Effect Configï¼ˆæ•ˆæœé…ç½®ï¼‰**
```
Class Defaults â†’ Effect Config

Damage Effect Class: GE_Damage_Base
â”œâ”€ è¯´æ˜ï¼šä½¿ç”¨çš„ä¼¤å®³ GameplayEffect
â””â”€ é€‰æ‹©ï¼š/Game/Blueprints/GAS/Effects/GE_Damage_Base
```

#### **5. é…ç½® Animation Configï¼ˆåŠ¨ç”»é…ç½®ï¼‰**
```
Class Defaults â†’ Animation Config

Attack Montage: é€‰æ‹©æ‚¨çš„æ­¥å…µæ”»å‡»åŠ¨ç”»
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»æ—¶æ’­æ”¾çš„åŠ¨ç”»è’™å¤ªå¥‡
â”œâ”€ è¦æ±‚ï¼šåŠ¨ç”»ä¸­å¿…é¡»æœ‰ AnimNotify "AttackHit"
â””â”€ ç¤ºä¾‹ï¼šAM_Infantry_Attack
```

#### **6. é…ç½® Ability Tagsï¼ˆèƒ½åŠ›æ ‡ç­¾ï¼‰**
```
Class Defaults â†’ Tags

Ability Tags:
â”œâ”€ æ·»åŠ ï¼šAbility.Attack
â””â”€ æ·»åŠ ï¼šAbility.Attack.Melee

è¯´æ˜ï¼šç”¨äºæ ‡è¯†å’Œè¿‡æ»¤èƒ½åŠ›
```

#### **7. ä¿å­˜è“å›¾**
```
Ctrl + S ä¿å­˜
```

### **éªŒè¯æ¸…å•ï¼š**
- âœ… Attack Type = Melee
- âœ… Damage Multiplier å·²è®¾ç½®
- âœ… Damage Effect Class = GE_Damage_Base
- âœ… Attack Montage å·²è®¾ç½®ï¼ˆå¦‚æœæœ‰åŠ¨ç”»ï¼‰
- âœ… Ability Tags åŒ…å« Ability.Attack å’Œ Ability.Attack.Melee

---

## ğŸ¹ **ç¬¬äº”æ­¥ï¼šåˆ›å»º GA_Attack_Rangedï¼ˆè¿œç¨‹æ”»å‡»èƒ½åŠ›ï¼‰**

### **è·¯å¾„ï¼š** `/Game/Blueprints/GAS/Abilities/GA_Attack_Ranged`

### **åˆ›å»ºæ­¥éª¤ï¼š**

#### **1. åˆ›å»ºè“å›¾ç±»**
```
Content Browser â†’ å³é”® â†’ Blueprint Class
æœç´¢ï¼šSG_GameplayAbility_RangedAttack
é€‰æ‹©ï¼šSG_GameplayAbility_RangedAttackï¼ˆC++ ç±»ï¼‰
å‘½åï¼šGA_Attack_Ranged
ä¿å­˜è·¯å¾„ï¼š/Game/Blueprints/GAS/Abilities/
```

#### **2. é…ç½® Attack Configï¼ˆæ”»å‡»é…ç½®ï¼‰**
```
æ‰“å¼€è“å›¾ â†’ Class Defaults â†’ Attack Config

Attack Type: Rangedï¼ˆå·²è‡ªåŠ¨è®¾ç½®ï¼Œä¸å¯æ›´æ”¹ï¼‰
Damage Multiplier: 1.0
â”œâ”€ è¯´æ˜ï¼šä¼¤å®³å€ç‡ï¼ˆ1.0 = 100% ä¼¤å®³ï¼‰
â””â”€ å»ºè®®å€¼ï¼šå¼“å…µ 1.0ï¼Œå¼©å…µ 1.3

Attack Range: 1000.0
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»èŒƒå›´ï¼ˆå˜ç±³ï¼‰
â””â”€ å»ºè®®å€¼ï¼šå¼“å…µ 800-1200ï¼Œå¼©å…µ 1000-1500
```

#### **3. é…ç½® Ranged Configï¼ˆè¿œç¨‹ä¸“å±é…ç½®ï¼‰**
```
Class Defaults â†’ Ranged Config

Projectile Spawn Offset: (X=50, Y=0, Z=80)
â”œâ”€ è¯´æ˜ï¼šæŠ•å°„ç‰©ç”Ÿæˆä½ç½®åç§»
â”œâ”€ X: å‰æ–¹è·ç¦»ï¼ˆ50cmï¼‰
â”œâ”€ Y: å·¦å³åç§»ï¼ˆ0cmï¼‰
â””â”€ Z: é«˜åº¦åç§»ï¼ˆ80cmï¼Œå¼“çš„ä½ç½®ï¼‰

Lead Target Factor: 0.5
â”œâ”€ è¯´æ˜ï¼šç›®æ ‡é¢„åˆ¤ç³»æ•°ï¼ˆ0-1ï¼‰
â”œâ”€ 0.0 = ä¸é¢„åˆ¤ï¼ˆç„å‡†å½“å‰ä½ç½®ï¼‰
â”œâ”€ 1.0 = å®Œå…¨é¢„åˆ¤ï¼ˆç„å‡†é¢„æµ‹ä½ç½®ï¼‰
â””â”€ å»ºè®®å€¼ï¼šæ–°æ‰‹ 0.3ï¼Œç†Ÿç»ƒ 0.7ï¼Œç¥å°„æ‰‹ 1.0

Aim At Center: true
â”œâ”€ è¯´æ˜ï¼šæ˜¯å¦ç„å‡†ç›®æ ‡èº«ä½“ä¸­å¿ƒ
â””â”€ å»ºè®®å€¼ï¼šé€šå¸¸ä¸º true

Projectile Count: 1
â”œâ”€ è¯´æ˜ï¼šä¸€æ¬¡æ”»å‡»å‘å°„çš„æŠ•å°„ç‰©æ•°é‡
â””â”€ å»ºè®®å€¼ï¼šå•å‘ 1ï¼Œè¿å¼© 3ï¼Œé½å°„ 5

Projectile Interval: 0.1
â”œâ”€ è¯´æ˜ï¼šå¤šæŠ•å°„ç‰©é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰
â””â”€ å»ºè®®å€¼ï¼š0.1-0.5 ç§’
```

#### **4. é…ç½® Effect Configï¼ˆæ•ˆæœé…ç½®ï¼‰**
```
Class Defaults â†’ Effect Config

Damage Effect Class: GE_Damage_Base
â””â”€ é€‰æ‹©ï¼š/Game/Blueprints/GAS/Effects/GE_Damage_Base
```

#### **5. é…ç½® Animation Configï¼ˆåŠ¨ç”»é…ç½®ï¼‰**
```
Class Defaults â†’ Animation Config

Attack Montage: é€‰æ‹©æ‚¨çš„å¼“å…µæ”»å‡»åŠ¨ç”»
â”œâ”€ è¯´æ˜ï¼šæ”»å‡»æ—¶æ’­æ”¾çš„åŠ¨ç”»è’™å¤ªå¥‡
â”œâ”€ è¦æ±‚ï¼šåŠ¨ç”»ä¸­å¿…é¡»æœ‰ AnimNotify "AttackHit"
â””â”€ ç¤ºä¾‹ï¼šAM_Archer_Attack
```

#### **6. é…ç½® Projectile Configï¼ˆæŠ•å°„ç‰©é…ç½®ï¼‰**
```
Class Defaults â†’ Projectile Config

Projectile Class: BP_Projectile_Arrow
â”œâ”€ è¯´æ˜ï¼šç”Ÿæˆçš„æŠ•å°„ç‰©ç±»
â””â”€ é€‰æ‹©ï¼š/Game/Blueprints/Actors/Projectiles/BP_Projectile_Arrow
   ï¼ˆéœ€è¦å…ˆåˆ›å»ºæŠ•å°„ç‰©è“å›¾ï¼‰
```

#### **7. é…ç½® Ability Tagsï¼ˆèƒ½åŠ›æ ‡ç­¾ï¼‰**
```
Class Defaults â†’ Tags

Ability Tags:
â”œâ”€ æ·»åŠ ï¼šAbility.Attack
â””â”€ æ·»åŠ ï¼šAbility.Attack.Ranged
```

#### **8. ä¿å­˜è“å›¾**
```
Ctrl + S ä¿å­˜
```

### **éªŒè¯æ¸…å•ï¼š**
- âœ… Attack Type = Ranged
- âœ… Damage Multiplier å·²è®¾ç½®
- âœ… Damage Effect Class = GE_Damage_Base
- âœ… Attack Montage å·²è®¾ç½®ï¼ˆå¦‚æœæœ‰åŠ¨ç”»ï¼‰
- âœ… Projectile Class å·²è®¾ç½®
- âœ… Ability Tags åŒ…å« Ability.Attack å’Œ Ability.Attack.Ranged

---

## ğŸ¯ **ç¬¬å…­æ­¥ï¼šåˆ›å»º BP_Projectile_Arrowï¼ˆå¼“ç®­æŠ•å°„ç‰©ï¼‰**

### **è·¯å¾„ï¼š** `/Game/Blueprints/Actors/Projectiles/BP_Projectile_Arrow`

### **åˆ›å»ºæ­¥éª¤ï¼š**

#### **1. åˆ›å»ºè“å›¾ç±»**
```
Content Browser â†’ å³é”® â†’ Blueprint Class
æœç´¢ï¼šSG_Projectile
é€‰æ‹©ï¼šSG_Projectileï¼ˆC++ ç±»ï¼‰
å‘½åï¼šBP_Projectile_Arrow
ä¿å­˜è·¯å¾„ï¼š/Game/Blueprints/Actors/Projectiles/
```

#### **2. é…ç½® Projectile Configï¼ˆæŠ•å°„ç‰©é…ç½®ï¼‰**
```
æ‰“å¼€è“å›¾ â†’ Class Defaults â†’ Projectile Config

Projectile Type: Parabolic
â”œâ”€ è¯´æ˜ï¼šé£è¡Œç±»å‹
â”œâ”€ Linear: ç›´çº¿é£è¡Œï¼ˆå¼©ç®­ï¼‰
â””â”€ Parabolic: æŠ›ç‰©çº¿é£è¡Œï¼ˆå¼“ç®­ï¼‰

Projectile Speed: 2000.0
â”œâ”€ è¯´æ˜ï¼šé£è¡Œé€Ÿåº¦ï¼ˆå˜ç±³/ç§’ï¼‰
â””â”€ å»ºè®®å€¼ï¼šå¼“ç®­ 1500-2500ï¼Œå¼©ç®­ 2500-3500

Gravity Scale: 1.0
â”œâ”€ è¯´æ˜ï¼šé‡åŠ›ç¼©æ”¾ï¼ˆä»…æŠ›ç‰©çº¿é£è¡Œï¼‰
â”œâ”€ 1.0 = æ­£å¸¸é‡åŠ›
â”œâ”€ 0.5 = ä¸€åŠé‡åŠ›ï¼ˆé£å¾—æ›´è¿œï¼‰
â””â”€ 2.0 = åŒå€é‡åŠ›ï¼ˆå¼§çº¿æ›´é™¡ï¼‰

Max Lifetime: 5.0
â”œâ”€ è¯´æ˜ï¼šæœ€å¤§ç”Ÿå­˜æ—¶é—´ï¼ˆç§’ï¼‰
â””â”€ å»ºè®®å€¼ï¼š3-10 ç§’

Penetrate: false
â”œâ”€ è¯´æ˜ï¼šæ˜¯å¦ç©¿é€ç›®æ ‡
â””â”€ å»ºè®®å€¼ï¼šå¼“ç®­ falseï¼Œç‰¹æ®Šç®­ true

Max Penetrate Count: 0
â”œâ”€ è¯´æ˜ï¼šæœ€å¤§ç©¿é€æ•°é‡ï¼ˆ0 = æ— é™ï¼‰
â””â”€ å»ºè®®å€¼ï¼š1-3
```

#### **3. é…ç½® Damage Configï¼ˆä¼¤å®³é…ç½®ï¼‰**
```
Class Defaults â†’ Damage Config

Damage Effect Class: GE_Damage_Base
â””â”€ é€‰æ‹©ï¼š/Game/Blueprints/GAS/Effects/GE_Damage_Base

Damage Multiplier: 1.0
â”œâ”€ è¯´æ˜ï¼šæŠ•å°„ç‰©ä¼¤å®³å€ç‡
â””â”€ å»ºè®®å€¼ï¼šæ™®é€šç®­ 1.0ï¼Œç‰¹æ®Šç®­ 1.5
```

#### **4. æ·»åŠ è§†è§‰ç»„ä»¶ï¼ˆViewportï¼‰**
```
æ‰“å¼€è“å›¾ â†’ Viewportï¼ˆè§†å£ï¼‰

æ·»åŠ  Static Mesh Componentï¼š
1. åœ¨ Components é¢æ¿ç‚¹å‡» "Add Component"
2. æœç´¢ï¼šStatic Mesh
3. é€‰æ‹©ï¼šStatic Mesh Component
4. å‘½åï¼šArrowMesh

é…ç½® ArrowMeshï¼š
â”œâ”€ Static Mesh: é€‰æ‹©æ‚¨çš„ç®­çŸ¢æ¨¡å‹
â”œâ”€ Collision Preset: NoCollisionï¼ˆç¢°æ’ç”± CollisionComponent å¤„ç†ï¼‰
â”œâ”€ Location: (0, 0, 0)
â”œâ”€ Rotation: (0, 0, 0) æˆ–æ ¹æ®æ¨¡å‹è°ƒæ•´
â””â”€ Scale: (1, 1, 1) æˆ–æ ¹æ®éœ€è¦è°ƒæ•´

è¯´æ˜ï¼š
- ç¡®ä¿ç®­å¤´æŒ‡å‘ +X æ–¹å‘ï¼ˆå‰æ–¹ï¼‰
- å¦‚æœæ¨¡å‹æ–¹å‘ä¸å¯¹ï¼Œæ—‹è½¬ Rotation
```

#### **5. æ·»åŠ ç²’å­ç‰¹æ•ˆï¼ˆå¯é€‰ï¼‰**
```
æ·»åŠ  Particle System Componentï¼š
1. åœ¨ Components é¢æ¿ç‚¹å‡» "Add Component"
2. æœç´¢ï¼šParticle System
3. é€‰æ‹©ï¼šParticle System Component
4. å‘½åï¼šTrailEffect

é…ç½® TrailEffectï¼š
â”œâ”€ Template: é€‰æ‹©æ‹–å°¾ç‰¹æ•ˆ
â”œâ”€ Location: (0, 0, 0)
â””â”€ Auto Activate: true
```

#### **6. ä¿å­˜è“å›¾**
```
Ctrl + S ä¿å­˜
```

### **éªŒè¯æ¸…å•ï¼š**
- âœ… Projectile Type å·²è®¾ç½®
- âœ… Projectile Speed å·²é…ç½®
- âœ… Damage Effect Class = GE_Damage_Base
- âœ… Static Mesh å·²æ·»åŠ 
- âœ… ç®­å¤´æ–¹å‘æ­£ç¡®ï¼ˆæŒ‡å‘ +Xï¼‰

---

## ğŸ¯ **ç¬¬ä¸ƒæ­¥ï¼šåˆ›å»º BP_Projectile_Boltï¼ˆå¼©ç®­æŠ•å°„ç‰©ï¼‰**

### **å¿«é€Ÿåˆ›å»ºæ–¹æ³•ï¼š**

```
1. å¤åˆ¶ BP_Projectile_Arrow
2. é‡å‘½åä¸ºï¼šBP_Projectile_Bolt
3. ä¿®æ”¹é…ç½®ï¼š
   â”œâ”€ Projectile Type: Linearï¼ˆç›´çº¿é£è¡Œï¼‰
   â”œâ”€ Projectile Speed: 3000.0ï¼ˆæ›´å¿«ï¼‰
   â”œâ”€ Gravity Scale: 0.0ï¼ˆä¸å—é‡åŠ›å½±å“ï¼‰
   â””â”€ Static Mesh: æ›´æ¢ä¸ºå¼©ç®­æ¨¡å‹
4. ä¿å­˜
```

---

## ğŸ“Š **ç¬¬å…«æ­¥ï¼šåˆ›å»º DT_UnitDataï¼ˆå•ä½æ•°æ®è¡¨ï¼‰**

### **è·¯å¾„ï¼š** `/Game/Blueprints/Data/DT_UnitData`

### **åˆ›å»ºæ­¥éª¤ï¼š**

#### **1. åˆ›å»º DataTable**
```
Content Browser â†’ å³é”® â†’ Miscellaneous â†’ Data Table
é€‰æ‹©è¡Œç»“æ„ï¼šFSGUnitDataRow
å‘½åï¼šDT_UnitData
ä¿å­˜è·¯å¾„ï¼š/Game/Blueprints/Data/
```

#### **2. æ·»åŠ æ­¥å…µé…ç½®**
```
æ‰“å¼€ DataTable â†’ ç‚¹å‡» "+" æ·»åŠ æ–°è¡Œ
è¡Œåç§°ï¼šInfantry_Basic

é…ç½®æ•°æ®ï¼š
========== Basic Info ==========
Unit Name: æ­¥å…µ
Unit Description: åŸºç¡€è¿‘æˆ˜å•ä½
Unit Type Tag: Unit.Type.Infantry

========== Attributes ==========
Base Health: 500.0
Base Attack Damage: 50.0
Base Move Speed: 400.0
Base Attack Speed: 1.5
Base Attack Range: 150.0

========== Attack Config ==========
Attack Type: Melee
Attack Montage: é€‰æ‹©æ­¥å…µæ”»å‡»åŠ¨ç”»
Projectile Class: None

========== AI Config ==========
Detection Range: 1500.0
Chase Range: 2000.0
```

#### **3. æ·»åŠ éª‘å…µé…ç½®**
```
ç‚¹å‡» "+" æ·»åŠ æ–°è¡Œ
è¡Œåç§°ï¼šCavalry_Basic

é…ç½®æ•°æ®ï¼š
========== Basic Info ==========
Unit Name: éª‘å…µ
Unit Description: é«˜é€Ÿè¿‘æˆ˜å•ä½
Unit Type Tag: Unit.Type.Cavalry

========== Attributes ==========
Base Health: 600.0
Base Attack Damage: 70.0
Base Move Speed: 600.0
Base Attack Speed: 1.2
Base Attack Range: 150.0

========== Attack Config ==========
Attack Type: Melee
Attack Montage: é€‰æ‹©éª‘å…µæ”»å‡»åŠ¨ç”»
Projectile Class: None

========== AI Config ==========
Detection Range: 1500.0
Chase Range: 2500.0
```

#### **4. æ·»åŠ å¼“å…µé…ç½®**
```
ç‚¹å‡» "+" æ·»åŠ æ–°è¡Œ
è¡Œåç§°ï¼šArcher_Basic

é…ç½®æ•°æ®ï¼š
========== Basic Info ==========
Unit Name: å¼“å…µ
Unit Description: è¿œç¨‹å°„å‡»å•ä½
Unit Type Tag: Unit.Type.Archer

========== Attributes ==========
Base Health: 300.0
Base Attack Damage: 40.0
Base Move Speed: 400.0
Base Attack Speed: 1.0
Base Attack Range: 1000.0

========== Attack Config ==========
Attack Type: Projectile
Attack Montage: é€‰æ‹©å¼“å…µæ”»å‡»åŠ¨ç”»
Projectile Class: BP_Projectile_Arrow
Projectile Spawn Offset: (X=50, Y=0, Z=80)

========== AI Config ==========
Detection Range: 1800.0
Chase Range: 2200.0
```

#### **5. æ·»åŠ å¼©å…µé…ç½®**
```
ç‚¹å‡» "+" æ·»åŠ æ–°è¡Œ
è¡Œåç§°ï¼šCrossbow_Basic

é…ç½®æ•°æ®ï¼š
========== Basic Info ==========
Unit Name: å¼©å…µ
Unit Description: é«˜å¨åŠ›è¿œç¨‹å•ä½
Unit Type Tag: Unit.Type.Crossbow

========== Attributes ==========
Base Health: 350.0
Base Attack Damage: 60.0
Base Move Speed: 380.0
Base Attack Speed: 0.8
Base Attack Range: 1200.0

========== Attack Config ==========
Attack Type: Ranged
Attack Montage: é€‰æ‹©å¼©å…µæ”»å‡»åŠ¨ç”»
Projectile Class: BP_Projectile_Bolt
Projectile Spawn Offset: (X=50, Y=0, Z=70)

========== AI Config ==========
Detection Range: 2000.0
Chase Range: 2500.0
```

#### **6. ä¿å­˜ DataTable**
```
Ctrl + S ä¿å­˜
```

### **éªŒè¯æ¸…å•ï¼š**
- âœ… è‡³å°‘åŒ…å« Infantry_Basicã€Archer_Basic ä¸¤è¡Œ
- âœ… æ‰€æœ‰å¿…å¡«å­—æ®µå·²å¡«å†™
- âœ… Unit Type Tag æ­£ç¡®è®¾ç½®
- âœ… Attack Montage å·²è®¾ç½®ï¼ˆå¦‚æœæœ‰åŠ¨ç”»ï¼‰
- âœ… Projectile Class å·²è®¾ç½®ï¼ˆè¿œç¨‹å•ä½ï¼‰

---

## âœ… **ç¬¬ä¹æ­¥ï¼šéªŒè¯å’Œæµ‹è¯•**

### **1. ç¼–è¯‘é¡¹ç›®**
```
ç¼–è¾‘å™¨èœå• â†’ Build â†’ Build Project
ç­‰å¾…ç¼–è¯‘å®Œæˆ
æ£€æŸ¥ Output Log æ˜¯å¦æœ‰é”™è¯¯
```

### **2. æ£€æŸ¥è“å›¾èµ„äº§**
```
Content Browser â†’ /Game/Blueprints/

ç¡®è®¤ä»¥ä¸‹æ–‡ä»¶å­˜åœ¨ï¼š
âœ… GAS/Effects/GE_Damage_Base
âœ… GAS/Abilities/GA_Attack_Melee
âœ… GAS/Abilities/GA_Attack_Ranged
âœ… Actors/Projectiles/BP_Projectile_Arrow
âœ… Data/DT_UnitData
```

### **3. é…ç½®å•ä½è“å›¾**
```
æ‰“å¼€å•ä½è“å›¾ï¼ˆä¾‹å¦‚ï¼šBP_Unit_Infantryï¼‰

Class Defaults â†’ Unit Config:
â”œâ”€ Use Data Table: true
â”œâ”€ Unit Data Table: DT_UnitData
â””â”€ Unit Data Row Name: Infantry_Basic

Class Defaults â†’ Character Info:
â”œâ”€ Faction Tag: Unit.Faction.Player
â””â”€ Unit Type Tag: Unit.Type.Infantry
   ï¼ˆå¦‚æœä½¿ç”¨ DataTableï¼Œä¼šè‡ªåŠ¨è¦†ç›–ï¼‰
```

### **4. åˆ›å»ºæµ‹è¯•å…³å¡**
```
åˆ›å»ºæ–°å…³å¡ï¼šTestMap_Combat

æ”¾ç½®ç©å®¶æ­¥å…µï¼š
â”œâ”€ æ‹–å…¥ BP_Unit_Infantry
â”œâ”€ é…ç½® Faction Tag: Unit.Faction.Player
â”œâ”€ é…ç½® Use Data Table: true
â””â”€ é…ç½® Unit Data Row Name: Infantry_Basic

æ”¾ç½®æ•Œæ–¹æ­¥å…µï¼š
â”œâ”€ æ‹–å…¥ BP_Unit_Infantry
â”œâ”€ é…ç½® Faction Tag: Unit.Faction.Enemy
â”œâ”€ é…ç½® Use Data Table: true
â””â”€ é…ç½® Unit Data Row Name: Infantry_Basic

ä¸¤ä¸ªå•ä½è·ç¦»ï¼š500-1000 å˜ç±³
```

### **5. è¿è¡Œæµ‹è¯•**
```
ç‚¹å‡» Play æŒ‰é’®

æ£€æŸ¥ Output Logï¼š
âœ… æ˜¯å¦è¾“å‡º "ä» DataTable åŠ è½½å•ä½é…ç½®"
âœ… æ˜¯å¦è¾“å‡º "æˆäºˆæ”»å‡»èƒ½åŠ›æˆåŠŸ"
âœ… æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—

å¦‚æœæœ‰é”™è¯¯ï¼š
- æ£€æŸ¥ GameplayTags æ˜¯å¦é…ç½®å®Œæ•´
- æ£€æŸ¥è“å›¾è·¯å¾„æ˜¯å¦æ­£ç¡®
- æ£€æŸ¥ C++ ç±»æ˜¯å¦ç¼–è¯‘æˆåŠŸ
```

### **6. æ‰‹åŠ¨æµ‹è¯•æ”»å‡»**
```
ä¸´æ—¶æµ‹è¯•æ–¹æ³•ï¼š

åœ¨å•ä½è“å›¾ä¸­æ·»åŠ è¾“å…¥äº‹ä»¶ï¼š
1. Event Graph
2. å³é”® â†’ Input â†’ Keyboard Events â†’ 1
3. è¿æ¥åˆ° PerformAttack å‡½æ•°
4. ç¼–è¯‘ä¿å­˜

è¿è¡Œæ¸¸æˆï¼š
1. é€‰ä¸­ç©å®¶å•ä½
2. æŒ‰ "1" é”®
3. è§‚å¯Ÿæ˜¯å¦æ’­æ”¾æ”»å‡»åŠ¨ç”»
4. è§‚å¯Ÿæ˜¯å¦é€ æˆä¼¤å®³
5. æ£€æŸ¥ Output Log
```

---

## ğŸ” **å¸¸è§é—®é¢˜æ’æŸ¥**

### **é—®é¢˜1ï¼šè“å›¾åŠ è½½å¤±è´¥**
```
é”™è¯¯æ—¥å¿—ï¼šåŠ è½½ GA_Attack_Melee å¤±è´¥

è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥è“å›¾è·¯å¾„æ˜¯å¦æ­£ç¡®
   - æ­£ç¡®ï¼š/Game/Blueprints/GAS/Abilities/GA_Attack_Melee
   - é”™è¯¯ï¼š/Content/Blueprints/... ï¼ˆä¸è¦åŒ…å« Contentï¼‰
   
2. æ£€æŸ¥è“å›¾ç±»æ˜¯å¦ç»§æ‰¿æ­£ç¡®çš„çˆ¶ç±»
   - GA_Attack_Melee å¿…é¡»ç»§æ‰¿ SG_GameplayAbility_MeleeAttack
   
3. é‡æ–°ç¼–è¯‘é¡¹ç›®
   - Build â†’ Build Project
```

### **é—®é¢˜2ï¼šæ”»å‡»èƒ½åŠ›æ— æ³•æ¿€æ´»**
```
é”™è¯¯æ—¥å¿—ï¼šæ”»å‡»èƒ½åŠ›æ— æ³•æ¿€æ´»ï¼ˆå¯èƒ½åœ¨å†·å´ä¸­ï¼‰

è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥ Damage Effect Class æ˜¯å¦è®¾ç½®
   - å¿…é¡»è®¾ç½®ä¸º GE_Damage_Base
   
2. æ£€æŸ¥ GameplayTags æ˜¯å¦é…ç½®
   - å¿…é¡»åŒ…å« Data.Damage æ ‡ç­¾
   
3. æ£€æŸ¥å•ä½æ˜¯å¦æœ‰ç›®æ ‡
   - ä½¿ç”¨ FindNearestTarget() æŸ¥æ‰¾ç›®æ ‡
```

### **é—®é¢˜3ï¼šæŠ•å°„ç‰©ä¸ç”Ÿæˆ**
```
é”™è¯¯æ—¥å¿—ï¼šæ— è¾“å‡º

è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥ Projectile Class æ˜¯å¦è®¾ç½®
   - å¿…é¡»è®¾ç½®ä¸º BP_Projectile_Arrow
   
2. æ£€æŸ¥æŠ•å°„ç‰©è“å›¾æ˜¯å¦å­˜åœ¨
   - æ‰“å¼€ BP_Projectile_Arrow ç¡®è®¤é…ç½®
   
3. æ£€æŸ¥ Projectile Spawn Offset æ˜¯å¦åˆç†
   - å»ºè®®å€¼ï¼š(50, 0, 80)
```

### **é—®é¢˜4ï¼šä¼¤å®³æœªç”Ÿæ•ˆ**
```
ç°è±¡ï¼šç›®æ ‡ç”Ÿå‘½å€¼ä¸å‡å°‘

è§£å†³æ–¹æ¡ˆï¼š
1. æ£€æŸ¥ GE_Damage_Base é…ç½®
   - Duration Policy = Instant
   - Executions åŒ…å« SG_DamageExecutionCalc
   
2. æ£€æŸ¥é˜µè¥æ ‡ç­¾
   - ç¡®ä¿æ”»å‡»è€…å’Œç›®æ ‡é˜µè¥ä¸åŒ
   
3. æ£€æŸ¥ Damage Multiplier
   - ç¡®ä¿ä¸ä¸º 0
   
4. æŸ¥çœ‹ Output Log
   - æœç´¢ "ä¼¤å®³è®¡ç®—" å…³é”®è¯
```

---

## ğŸ“š **ä¸‹ä¸€æ­¥å·¥ä½œ**

### **å®Œæˆè“å›¾èµ„äº§åˆ›å»ºåï¼š**

1. âœ… **æµ‹è¯•åŸºç¡€æ”»å‡»ç³»ç»Ÿ**
   - è¿‘æˆ˜æ”»å‡»æµ‹è¯•
   - è¿œç¨‹æ”»å‡»æµ‹è¯•
   - ä¼¤å®³è®¡ç®—éªŒè¯

2. â³ **åˆ›å»º StateTree AI**
   - Task_FindTarget
   - Task_MoveToAttackRange
   - Task_PerformAttack

3. â³ **å®ç°æ­¦å°†æŠ€èƒ½**
   - æ›¹æ“ï¼šå‰‘é›¨
   - åˆ˜å¤‡ï¼šå¬å”¤å…µå›¢

4. â³ **å®ç°è®¡è°‹å¡**
   - æµæœ¨è®¡
   - ç«çŸ¢è®¡
   - ç¥é€Ÿè®¡

---

## ğŸ“ **éœ€è¦å¸®åŠ©ï¼Ÿ**

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. âœ… GameplayTags æ˜¯å¦é…ç½®å®Œæ•´
2. âœ… è“å›¾è·¯å¾„æ˜¯å¦æ­£ç¡®
3. âœ… C++ ç±»æ˜¯å¦ç¼–è¯‘æˆåŠŸ
4. âœ… Output Log ä¸­çš„é”™è¯¯ä¿¡æ¯

**è¯·æä¾›ä»¥ä¸‹ä¿¡æ¯ä»¥ä¾¿æ’æŸ¥ï¼š**
- é”™è¯¯æ—¥å¿—æˆªå›¾
- è“å›¾é…ç½®æˆªå›¾
- Output Log å®Œæ•´è¾“å‡º

---

**ç¥æ‚¨åˆ›å»ºé¡ºåˆ©ï¼** ğŸ‰
